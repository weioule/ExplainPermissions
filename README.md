# ExplainPermissions
动态权限申请并展示权限使用说明

随着工信部对APP的一系列整治，现在用户对于APP在使用时动态申请的权限是比较敏感的，为了更好的用户体验，那么我们可以在权限动态申请的时候一并向用户展示所需要申请权限的使用说明，
这样用户就会了解到你所要申请权限的目的，是不是更放心授予了呢？

在安卓开发中，我们调用系统的动态申请权限方法，系统只是弹出一个授予询问框，那么我们要展示使用说明就要自己实现了。
</br></br>
下面是效果图：</br>
![img1](https://github.com/weioule/ExplainPermissions/assets/21343103/2ef99c93-c52c-4368-a347-6aeec7ffa513)
![img2](https://github.com/weioule/ExplainPermissions/assets/21343103/5f29f309-74e2-40e5-b281-c5fe3dc8880c)

这里的实现方案是启动一个新的透明主题页面，在该页面上调用系统api来判断权限是否已被授予，若已有权限则直接返回结果并关闭当前页面，因为是透明主题且还没设置布局，所以对用户是无感知的。</br></br>
若存在没有授予的任何一个权限，就会给当前页面设置布局和展示该权限对应的使用说明，并向系统动态申请该权限，外部调用可以同时申请一个或多个权限，当用户授予权限后正常返回，若遭到拒绝则会根据外部提供的权限拦截级别进行弹框提示，
根据弹框用户可以打开系统设置去授予权限，这里因为在设置页面用户还可以撤销任意权限，所以从设置页面返回时校验了权限授予状态和更新权限使用说明列表。

外部使用时只需将权限与使用说明以及拦截级别传进来即可，详细请看代码。
